# [Silver I] 튜터-튜티 관계의 수 - 24542 

[문제 링크](https://www.acmicpc.net/problem/24542) 

### 성능 요약

메모리: 68328 KB, 시간: 532 ms

### 분류

자료 구조, 분리 집합, 그래프 이론, 그래프 탐색

### 제출 일자

2025년 2월 27일 14:47:34

### 문제 설명

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/2c675aad-c509-433a-b0bc-d7f111d30c6d/-/preview/" style="height: 333px; width: 466px;"></p>

<blockquote>
<p>퓨처테크아케데미(주)는 올해로 4년째 엘리트 알고리즘 SW교육-「헬로알고」라는 브랜드로 <strong>국내는 물론 해외 14개국 청소년들을 대상으로 SW교육을 실시하고 있는 교육회사</strong>입니다. 또한 중소벤처기업부와 한국교육학술정보원이 선정한 '2021비대면스타트업 교육회사', 동국대학교 'SW코딩역량강화캠프 교육회사' 선정 등 <strong>늘 새로운 것에 도전하는 젊은 열정의 에듀테크 회사</strong>이기도 합니다. 2022 국내외 온·오프라인 사업의 새로운 도전을 위해 SW교육 지도 및 컨텐츠 연구개발 분야에 함께할 젊고 패기있는 SW인재를 찾습니다!</p>
</blockquote>

<p>대학생 찬솔이는 이번 학기부터 헬로알고에서 멘토로 활동하게 되었다. 현재 찬솔이가 담당한 반에는 총 $N$명의 교육생이 있다.</p>

<p>사전 정보를 통해 찬솔이는 헬로알고 교육생 간의 친분 관계를 나타내는 양방향 그래프를 하나 획득할 수 있었다. 정말 특이하게도 이 친분 관계를 나타낸 그래프는 포레스트 형태였다. 포레스트란 사이클이 없는 그래프를 의미한다.</p>

<p>찬솔이는 이 교육생 간 친분관계를 토대로 교육생들끼리 튜터-튜티 관계를 구성하고자 한다. 튜터-튜티 관계는 기존에 친분 관계가 있던 두 사람 사이에서만 정할 수 있으며 단방향으로만 지정할 수 있다.</p>

<p>찬솔이가 배포한 교육 자료는 튜터가 튜티에게만 전달할 수 있도록 하였다. 이런 방식으로 모든 교육생에게 교육 자료가 전달되어야만 한다. 이렇게 되면 부득이하게 찬솔이로부터 최초로 교육 자료를 받는 인원이 생길 수밖에 없다. <strong>찬솔이는 수줍음이 많은 성격이기 때문에 이런 인원수가 최소가 되기를 희망한다.</strong></p>

<p>위 조건을 만족하면서 교육생의 튜터-튜티 관계를 정하는 경우의 수를 $1\,000\,000\,007$로 나눈 나머지를 출력하자.</p>

### 입력 

 <p>교육생의 수 $N$과 친분 관계의 수 $M$이 공백으로 구분되어 주어진다. ($2 \leq N \leq 200\,000$, $1 \leq M \leq N - 1$)</p>

<p>다음 $M$개의 줄에 친분 관계를 맺고 있는 두 교육생인 $u$, $v$가 공백으로 구분되어 주어진다. ($1 \leq u, v \leq N$, $u \neq v$)</p>

<p>교육생의 번호는 $1$ 이상 $N$ 이하의 정수이며, 주어지는 그래프는 포레스트이다.</p>

### 출력 

 <p>첫째 줄에 튜터-튜티 관계를 정하는 경우의 수를 $1\,000\,000\,007$로 나눈 나머지를 출력한다.</p>

